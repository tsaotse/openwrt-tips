##### immortalwrt-imagebuilder-23.05.2
##### friendlyarm_nanopi-r4s
#####
sed -e 's,https://downloads.immortalwrt.org,https://mirrors.cernet.edu.cn/immortalwrt,g' -i.bak repositories.conf
#####
sed -e 's,CONFIG_TARGET_ROOTFS_PARTSIZE=300,CONFIG_TARGET_ROOTFS_PARTSIZE=1000#,' -i.bak .config
#####
make image PROFILE=friendlyarm_nanopi-r4s PACKAGES="adb arp-scan arp-scan-database ath10k-firmware-qca6174 atop attendedsysupgrade-common attr avahi-dbus-daemon base-files bash blkdiscard blkid block-mount blockd blockdev bluez-daemon bluez-libs bluez-tools bluez-utils bluez-utils-extra btop btrfs-progs busybox ca-bundle ca-certificates ccrypt certtool cgi-io cgroupfs-mount collectd collectd-mod-conntrack collectd-mod-cpu collectd-mod-cpufreq collectd-mod-interface collectd-mod-irq collectd-mod-iwinfo collectd-mod-load collectd-mod-memory collectd-mod-network collectd-mod-rrdtool collectd-mod-sensors collectd-mod-thermal containerd coreutils coreutils-sort cryptsetup cryptsetup-ssh dbus dnsmasq-full docker docker-compose dockerd dropbear e2fsprogs ethtool-full exfat-fsck exfat-mkfs f2fs-tools f2fsck fdisk findfs firewall4 fixparts fstools fuse-utils fuse3-utils fwtool gdisk getrandom glib2 hdparm hostapd-common htop hwclock ip-full ip6tables-nft iperf3-ssl ipset iptables-mod-extra iptables-mod-ipopt iptables-nft irqbalance iw-full iwinfo jansson4 jshn jsonfilter kernel kmod-asn1-decoder kmod-asn1-encoder kmod-ata-ahci kmod-ata-core kmod-ath kmod-ath9k kmod-ath9k-common kmod-atm kmod-bluetooth kmod-br-netfilter kmod-cdrom kmod-cfg80211 kmod-crypto-acompress kmod-crypto-aead kmod-crypto-arc4 kmod-crypto-authenc kmod-crypto-cbc kmod-crypto-ccm kmod-crypto-cmac kmod-crypto-crc32 kmod-crypto-crc32c kmod-crypto-ctr kmod-crypto-deflate kmod-crypto-des kmod-crypto-ecb kmod-crypto-ecdh kmod-crypto-echainiv kmod-crypto-gcm kmod-crypto-gf128 kmod-crypto-ghash kmod-crypto-hash kmod-crypto-hmac kmod-crypto-kpp kmod-crypto-lib-chacha20 kmod-crypto-lib-chacha20poly1305 kmod-crypto-lib-curve25519 kmod-crypto-lib-poly1305 kmod-crypto-manager kmod-crypto-md5 kmod-crypto-misc kmod-crypto-null kmod-crypto-rng kmod-crypto-seqiv kmod-crypto-sha1 kmod-crypto-sha256 kmod-crypto-sha512 kmod-crypto-user kmod-crypto-xts kmod-cryptodev kmod-dax kmod-dm kmod-dummy kmod-fs-autofs4 kmod-fs-btrfs kmod-fs-exfat kmod-fs-exportfs kmod-fs-ext4 kmod-fs-f2fs kmod-fs-hfs kmod-fs-hfsplus kmod-fs-ntfs3 kmod-fs-squashfs kmod-fs-vfat kmod-fs-xfs kmod-fuse kmod-gpio-button-hotplug kmod-gre kmod-hid kmod-hwmon-core kmod-hwmon-gpiofan kmod-hwmon-pwmfan kmod-i2c-core kmod-ifb kmod-ikconfig kmod-input-core kmod-input-evdev kmod-ip6tables kmod-ipsec kmod-ipt-conntrack kmod-ipt-core kmod-ipt-extra kmod-ipt-ipopt kmod-ipt-ipset kmod-ipt-nat kmod-ipt-nat6 kmod-ipt-physdev kmod-iptunnel kmod-keys-encrypted kmod-keys-trusted kmod-l2tp kmod-lib-crc-ccitt kmod-lib-crc16 kmod-lib-crc32c kmod-lib-lzo kmod-lib-raid6 kmod-lib-textsearch kmod-lib-xor kmod-lib-zlib-deflate kmod-lib-zlib-inflate kmod-lib-zstd kmod-libphy kmod-mac80211 kmod-macvlan kmod-mdio-devres kmod-mii kmod-mppe kmod-mt76-connac kmod-mt76-core kmod-mt76-usb kmod-mt76x02-common kmod-mt76x02-usb kmod-mt76x2-common kmod-mt76x2u kmod-mt7915-firmware kmod-mt7915e kmod-mt7916-firmware kmod-mt7921-common kmod-mt7921-firmware kmod-mt7921e kmod-mt7921u kmod-mt792x-common kmod-mt792x-usb kmod-nf-conntrack kmod-nf-conntrack-netlink kmod-nf-conntrack6 kmod-nf-flow kmod-nf-ipt kmod-nf-ipt6 kmod-nf-ipvs kmod-nf-log kmod-nf-log6 kmod-nf-nat kmod-nf-nat6 kmod-nf-nathelper kmod-nf-nathelper-extra kmod-nf-reject kmod-nf-reject6 kmod-nfnetlink kmod-nft-compat kmod-nft-core kmod-nft-fib kmod-nft-nat kmod-nft-offload kmod-nls-base kmod-nls-cp437 kmod-nls-iso8859-1 kmod-nls-utf8 kmod-nvme kmod-oid-registry kmod-phy-realtek kmod-ppp kmod-pppoa kmod-pppoe kmod-pppol2tp kmod-pppox kmod-pptp kmod-random-core kmod-regmap-core kmod-rtl8812au-ac kmod-rtl8821ae kmod-rtlwifi kmod-rtlwifi-btcoexist kmod-rtlwifi-pci kmod-rtw88 kmod-sched-cake kmod-sched-core kmod-scsi-core kmod-slhc kmod-thermal kmod-tpm kmod-tun kmod-udptunnel4 kmod-udptunnel6 kmod-usb-core kmod-usb-dwc2 kmod-usb-dwc3 kmod-usb-ehci kmod-usb-hid kmod-usb-net kmod-usb-net-cdc-ether kmod-usb-net-cdc-ncm kmod-usb-net-ipheth kmod-usb-net-rndis kmod-usb-net-rtl8152 kmod-usb-ohci kmod-usb-printer kmod-usb-roles kmod-usb-storage kmod-usb-storage-extras kmod-usb-storage-uas kmod-usb-xhci-hcd kmod-usb2 kmod-usb2-pci kmod-usb3 kmod-veth kmod-vxlan kmod-wireguard libaio libatomic1 libattr libavahi-client libavahi-dbus-support libblkid1 libblobmsg-json libbpf1 libc libcap libcap-ng libcomerr0 libdaemon libdbus libdevmapper libelf1 libevdev libexpat libext2fs2 libf2fs6 libfdisk1 libffi libfuse1 libfuse3-3 libgcc1 libgmp10 libgnutls libical libipset13 libiptext-nft0 libiptext0 libiptext6-0 libiwinfo-data libiwinfo-lua libiwinfo libjson-c5 libjson-script libkmod libltdl7 liblua5.1.5 liblucihttp-lua liblucihttp-ucode liblucihttp0 liblz4-1 liblzma liblzo2 libmnl0 libmount1 libncurses6 libnetfilter-conntrack3 libnettle8 libnfnetlink0 libnftnl11 libnl-tiny1 libopenssl-conf libopenssl-legacy libopenssl3 libparted libpcap1 libpci libpcre libpcre2 libpopt0 libpthread libqrencode libreadline8 librrd1 librt libseccomp libsensors5 libsmartcols1 libss2 libssh libstdcpp6 libsysfs2 libtasn1 libtirpc libubox libubus-lua libubus libuci libuclient libucode libudev-zero libusb-1.0-0 libuuid1 libuv1 libwebsockets-full libxtables12 libzstd linux-atm lm-sensors logd losetup lrzsz lsblk lua luasocket luci luci-app-advanced-reboot luci-app-attendedsysupgrade luci-app-diskman luci-app-dockerman luci-app-firewall luci-app-nlbwmon luci-app-openvpn luci-app-opkg luci-app-pbr luci-app-samba4 luci-app-sqm luci-app-statistics luci-app-ttyd luci-base luci-compat luci-i18n-advanced-reboot-zh-cn luci-i18n-attendedsysupgrade-zh-cn luci-i18n-base-zh-cn luci-i18n-dashboard-zh-cn luci-i18n-dockerman-zh-cn luci-i18n-firewall-zh-cn luci-i18n-nlbwmon-zh-cn luci-i18n-openvpn-zh-cn luci-i18n-opkg-zh-cn luci-i18n-pbr-zh-cn luci-i18n-samba4-zh-cn luci-i18n-sqm-zh-cn luci-i18n-statistics-zh-cn luci-i18n-ttyd-zh-cn luci-lib-base luci-lib-docker luci-lib-ip luci-lib-jsonc luci-lib-nixio luci-light luci-lua-runtime luci-mod-admin-full luci-mod-dashboard luci-mod-network luci-mod-status luci-mod-system luci-proto-ipv6 luci-proto-ppp luci-proto-wireguard luci-theme-argon luci-theme-bootstrap lvm2 mkf2fs mmc-utils mount-utils mt7921bt-firmware mt7922bt-firmware mtd nano netifd nftables-json nlbwmon ntfs3-mount odhcp6c odhcpd-ipv6only openssl-util openvpn-easy-rsa openvpn-openssl openwrt-keyring opkg parted partx-utils pbr pciids pciutils ppp ppp-mod-pppoa ppp-mod-pppoe ppp-mod-pppol2tp ppp-mod-pptp pptpd procd procd-seccomp procd-ujail procps-ng procps-ng-free procps-ng-kill procps-ng-pgrep procps-ng-pkill procps-ng-pmap procps-ng-ps procps-ng-pwdx procps-ng-skill procps-ng-slabtop procps-ng-snice procps-ng-sysctl procps-ng-tload procps-ng-top procps-ng-uptime procps-ng-vmstat procps-ng-w procps-ng-watch prometheus-node-exporter-lua prometheus-node-exporter-lua-nat_traffic prometheus-node-exporter-lua-netstat prometheus-node-exporter-lua-openwrt prometheus-node-exporter-lua-wifi prometheus-node-exporter-lua-wifi_stations qrencode r8152-firmware r8169-firmware resize2fs resolveip rpcd rpcd-mod-file rpcd-mod-iwinfo rpcd-mod-luci rpcd-mod-rpcsys rpcd-mod-rrdns rpcd-mod-ucode rrdtool1 rtl8723bu-firmware rtl8821ae-firmware rtl8822be-firmware rtl8822ce-firmware runc samba4-libs samba4-server sfdisk smartmontools smartmontools-drivedb sqm-scripts sqm-scripts-extra squashfs-tools-mksquashfs sysfsutils tc-tiny tcpdump-mini terminfo tini ttyd uboot-envtools ubox ubus ubusd ucert-full uci uclient-fetch ucode ucode-mod-fs ucode-mod-html ucode-mod-lua ucode-mod-math ucode-mod-nl80211 ucode-mod-rtnl ucode-mod-ubus ucode-mod-uci ucode-mod-uloop uencrypt-openssl uhttpd uhttpd-mod-lua uhttpd-mod-ubus unzip urandom-seed urngd usb-modeswitch usbutils usign uuidd vsftpd-tls wget-ssl wireguard-tools wireless-regdb wpad-openssl wsdd2 xl2tpd xtables-nft zlib zoneinfo-asia zoneinfo-core"
#####
